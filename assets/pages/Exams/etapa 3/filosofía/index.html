<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style.css">
    <title> Filosofia | Examen segundo parcial</title>
    <style>
                /* Estilos generales */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        .img-extended {
            position: absolute;
            width: 100%;
            top: 0;
            left: 0;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }

        /* Tarjeta de examen */
        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            margin-bottom: 30px;
        }

        .card-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .progress-text {
            font-size: 0.875rem;
            color: #666;
        }

        .progress-container {
            height: 8px;
            background-color: #eee;
            border-radius: 4px;
            margin-top: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #18181B;
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .card-content {
            padding: 20px;
            /* Añadido para manejar contenido que desborda */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .question {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 20px;
            /* Añadido para manejar texto largo */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        /* Opciones de respuesta */
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            /* Añadido para manejar texto largo */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .option:hover {
            background-color: #f9fafb;
        }

        .option.selected {
            background-color: #eff6ff;
            border-color: #18181B;
        }

        .option input {
            margin-right: 12px;
            flex-shrink: 0;
        }

        .option label {
            cursor: pointer;
            flex: 1;
            /* Añadido para manejar texto largo */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .card-footer {
            padding: 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        /* Botones */
        .btn {
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-size: 0.875rem;
        }

        .btn-primary {
            background-color: #18181B;
            color: white;
        }

        .btn-primary:hover {
            background-color: #18181B;
        }

        .btn-primary:disabled {
            background-color: #7a7a7c;
            cursor: not-allowed;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid #d1d5db;
            color: #374151;
        }

        .btn-outline:hover {
            background-color: #f9fafb;
        }

        .btn-outline:disabled {
            color: #9ca3af;
            cursor: not-allowed;
        }

        .show-answer {
            
        }

        /* Resultados */
        .results-summary {
            text-align: center;
            margin-bottom: 30px;
        }

        .score {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .percentage {
            font-size: 1.25rem;
            color: #4b5563;
            margin-bottom: 20px;
        }

        .review-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .review-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .review-question {
            font-weight: 500;
            margin-bottom: 8px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
            /* Añadido para manejar texto largo */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .review-answer {
            font-size: 0.875rem;
            color: #4b5563;
            margin-left: 24px;
            /* Añadido para manejar texto largo */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        .correct {
            color: #10b981;
            font-weight: 500;
        }

        .incorrect {
            color: #ef4444;
            font-weight: 500;
        }

        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .icon-check {
            color: #10b981;
        }

        .icon-x {
            color: #ef4444;
        }

        .full-width-btn {
            width: 100%;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        #topic {
            margin: 0;
            padding: 0;
            font-size: 1rem;
            text-align: left;
        }

        /* Mejoras para tablas responsivas */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
            overflow-x: auto;
            display: block;
        }

        @media (min-width: 640px) {
            table {
                display: table;
            }
        }

        th, td {
            padding: 8px;
            text-align: left;
            border: 1px solid #ddd;
            word-break: break-word;
        }

        th {
            background-color: #f2f2f2;
        }

        .numbers {
            background-color: #e2dede;
            padding: 2px 5px;
            border-radius: 10px;
            display: inline-block;
            word-break: break-word;
        }
        .volver {
            padding: 15px 20px;
            margin: 20px 10px;
            box-shadow: 0 0 5px black;
            background-color: #18181B;
            font-family: Verdana, Geneva, Tahoma, sans-serif;
            border-radius: 10px;
            text-decoration: none;
            color: white;
        }

        ul {
            background-color: #e2e2e2;
            border-radius: 10px;
            font-weight: bold;
            text-align: left;
            width: 70%;
            padding:  5px 20px;
            margin: 0 auto;
            box-shadow: 0 0 8px #b4b4b4 inset;
        }
        li {
            margin-left: 10px;
        }
        /* Responsive */
        @media (max-width: 640px) {
            .card-footer {
                flex-direction: column;
                gap: 12px;
            }
            
            .btn {
                width: 100%;
            }
            
            .card-title {
                flex-direction: column;
                align-items: flex-start;
                gap: 5px;
            }
            
            .review-question {
                flex-direction: column;
            }
            
            .review-answer {
                margin-left: 0;
                margin-top: 5px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Examen medio termino</h1>
        <a href="../../../asignaturas/index.html" class="volver">Volver</a>
        <div class="card" id="exam-card">
            <div class="card-header">
                <div class="card-title">
                    <span id="question-number">Pregunta 1 de 5</span>
                    <span class="progress-text" id="progress-text">20% completado</span>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar" style="width: 20%"></div>
                </div>
            </div>
            
            <div class="card-content">
                <h1 id="topic"></h1>
                <h2 class="question" id="question-text">¿Cuál es la capital de Francia?</h2>
                
                <div class="options" id="options-container">
                    <!-- Las opciones se generarán dinámicamente con JavaScript -->
                </div>
            </div>
            
            <div class="card-footer">
                <button class="btn btn-outline" id="prev-btn" disabled>Anterior</button>
                <button class="btn " id="next-btn" disabled>Siguiente</button>
            </div>
        </div>
        
        <div class="card" id="results-card" style="display: none;">
            <div class="card-header">
                <div class="card-title">Resultados del Examen</div>
                <div>Has completado el examen. Aquí están tus resultados:</div>
            </div>
            
            <div class="card-content">
                <div class="results-summary">
                    <p class="score" id="score">0 / 5</p>
                    <p class="percentage" id="percentage">0% de respuestas correctas</p>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar" id="results-progress-bar" style="width: 0%"></div>
                </div>
                
                <div class="review-section" style="margin-top: 30px;">
                    <h3 class="review-title">Revisión de respuestas:</h3>
                    <div id="review-container">
                        <!-- Los resultados se generarán dinámicamente con JavaScript -->
                    </div>
                </div>
            </div>
            
            
            <div class="card-footer">
                <button class="btn btn-primary full-width-btn" id="restart-btn">Reiniciar Examen</button>
            </div>
        </div>
    </div>
    
    
    <script> // evento extender imagen
    // Estructura de preguntas: [pregunta, respuesta correcta, respuesta incorrecta 1, 2, 3...]
    const preguntas = [
    ["¿Quién es el autor del famoso dicho 'Pienso, luego existo'?", "René Descartes", "John Locke", "David Hume", "Emmanuel Kant", "René Descartes"],
    ["¿Qué corriente filosófica está asociada principalmente con René Descartes?", "Racionalismo", "Empirismo", "Idealismo", "Romanticismo", "Racionalismo"],
    ["¿Qué pensador es considerado el principal representante del empirismo?", "John Locke", "René Descartes", "David Hume", "Emmanuel Kant", "John Locke"],
    ["¿Cuál de los siguientes filósofos es conocido por su teoría de las ideas inatas?", "René Descartes", "David Hume", "George Berkeley", "Immanuel Kant", "René Descartes"],
    ["¿Qué filósofo defendió la existencia de una realidad material independiente de la mente humana?", "George Berkeley", "David Hume", "Immanuel Kant", "John Locke", "George Berkeley"],
    ["¿Cuál de las siguientes frases es característica del empirismo de John Locke?", "La mente es una tabula rasa", "Pienso, luego existo", "El ser humano es un sujeto pasivo", "La razón es la base del conocimiento", "La mente es una tabula rasa"],
    ["¿Qué corriente filosófica establece que el conocimiento proviene principalmente de los sentidos?", "Empirismo", "Racionalismo", "Idealismo", "Romanticismo", "Empirismo"],
    ["¿Qué filósofo defendió la idea de que todo conocimiento es el resultado de la experiencia?", "David Hume", "René Descartes", "Emmanuel Kant", "John Locke", "David Hume"],
    ["¿En qué período histórico tuvo lugar la Ilustración?", "Siglo XVIII", "Siglo XIX", "Siglo XVII", "Siglo XVI", "Siglo XVIII"],
    ["¿Cuál es el lema principal de la Ilustración?", "Sapere Aude (Atrévete a saber)", "Pienso, luego existo", "El fin justifica los medios", "La razón es la base de todo", "Sapere Aude (Atrévete a saber)"],
    ["¿Qué filósofo es considerado el principal exponente del Idealismo Trascendental?", "Immanuel Kant", "René Descartes", "David Hume", "George Berkeley", "Immanuel Kant"],
    ["¿Qué corriente filosófica se caracteriza por la exaltación del sentimiento y la subjetividad?", "Romanticismo", "Ilustración", "Racionalismo", "Idealismo", "Romanticismo"],
    ["¿Quién es considerado el máximo representante del romanticismo en filosofía?", "Jean-Jacques Rousseau", "Immanuel Kant", "René Descartes", "Georg Wilhelm Friedrich Hegel", "Jean-Jacques Rousseau"],
    ["¿Qué es el método cartesiano?", "Un método basado en la duda metódica y la razón", "Un método basado en la observación empírica", "Un método de análisis lógico", "Un método basado en la experiencia sensorial", "Un método basado en la duda metódica y la razón"],
    ["¿Cuáles son las tres reglas del método cartesiano?", "La duda, la claridad y la distinción", "La observación, la experimentación y la conclusión", "La síntesis, la hipótesis y la experimentación", "La inducción, la deducción y la revisión", "La duda, la claridad y la distinción"],
    ["¿Qué filósofo pensaba que la realidad se puede conocer solo a través de la razón?", "René Descartes", "Immanuel Kant", "David Hume", "George Berkeley", "René Descartes"],
    ["¿Qué aportó el pensador John Locke a la teoría política?", "La teoría del gobierno basado en el consentimiento de los gobernados", "La teoría de la supremacía del monarca", "El contrato social y la libertad individual", "El determinismo histórico", "La teoría del gobierno basado en el consentimiento de los gobernados"],
    ["¿Qué filósofo defendió la idea de que las percepciones humanas son el resultado de la interacción de las ideas y la mente?", "Immanuel Kant", "David Hume", "René Descartes", "George Berkeley", "Immanuel Kant"],
    ["¿Cómo se define el conocimiento de la naturaleza según la filosofía moderna?", "A través de la observación y la experimentación", "A través de la revelación divina", "A través de la lógica formal", "A través de la pura especulación mental", "A través de la observación y la experimentación"],
    ["¿Qué filósofo es considerado el padre de la sociología?", "Auguste Comte", "Immanuel Kant", "David Hume", "René Descartes", "Auguste Comte"],
    ["¿Qué pensador utilizó el método experimental y la observación en su trabajo sobre la naturaleza?", "Isaac Newton", "René Descartes", "David Hume", "George Berkeley", "Isaac Newton"],
    ["¿Quién es considerado uno de los mayores exponentes de la astronomía en el siglo XVI?", "Nicolás Copérnico", "Galileo Galilei", "Johannes Kepler", "Isaac Newton", "Nicolás Copérnico"],
    ["¿Qué filósofo y matemático propuso la teoría heliocéntrica?", "Nicolás Copérnico", "Galileo Galilei", "Isaac Newton", "Johannes Kepler", "Nicolás Copérnico"],
    ["¿Qué científico es conocido por su ley de la gravedad?", "Isaac Newton", "Nicolás Copérnico", "Galileo Galilei", "Johannes Kepler", "Isaac Newton"],
    ["¿Qué filósofo contribuyó significativamente al desarrollo de la química moderna?", "Antoine Lavoisier", "Isaac Newton", "René Descartes", "David Hume", "Antoine Lavoisier"],
    ["¿Quién es considerado el padre de la química moderna?", "Antoine Lavoisier", "Galileo Galilei", "Isaac Newton", "Robert Boyle", "Antoine Lavoisier"]
];
    
        // Variables globales
        let preguntaActual = 0;
        let respuestas = Array(preguntas.length).fill("");
        let opcionesMezcladas = [];

        // Elementos del DOM
        const examCard = document.getElementById('exam-card');
        const resultsCard = document.getElementById('results-card');
        const topic = document.getElementById('topic');
        const questionNumber = document.getElementById('question-number');
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const scoreElement = document.getElementById('score');
        const percentageElement = document.getElementById('percentage');
        const resultsProgressBar = document.getElementById('results-progress-bar');
        const reviewContainer = document.getElementById('review-container');
        const restartBtn = document.getElementById('restart-btn');

        // Inicializar el examen
        function inicializarExamen() {
            // Mezclar las opciones para cada pregunta
            opcionesMezcladas = preguntas.map(pregunta => {
                const opciones = pregunta.slice(1, 5); // Todas las respuestas (correcta e incorrectas)
                return [...opciones].sort(() => Math.random() - 0.5); // Mezclar opciones
            });
            
            mostrarPregunta();
            
            // Event listeners
            prevBtn.addEventListener('click', irPreguntaAnterior);
            nextBtn.addEventListener('click', irPreguntaSiguiente);
            restartBtn.addEventListener('click', reiniciarExamen);
        }

        // Mostrar la pregunta actual
        function mostrarPregunta() {
            // Obtener el tema de la pregunta
            let tema = preguntas[preguntaActual][5];
            if (tema == undefined) {
            }
            else {
                topic.textContent = "Tema: " + tema;
            }
            // Actualizar número de pregunta y progreso
            questionNumber.textContent = `Pregunta ${preguntaActual + 1} de ${preguntas.length}`;
            const progreso = ((preguntaActual + 1) / preguntas.length) * 100; // Formula para sacar porcentaje 
            progressText.textContent = `${Math.round(progreso)}% completado`;
            progressBar.style.width = `${progreso}%`;
            
            // Mostrar texto de la pregunta
            questionText.innerHTML = preguntas[preguntaActual][0];
            
            // Generar opciones
            optionsContainer.innerHTML = '';
            opcionesMezcladas[preguntaActual].forEach((opcion, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = `option ${respuestas[preguntaActual] === opcion ? 'selected' : ''}`;
                optionDiv.dataset.value = opcion;
                
                optionDiv.innerHTML = `
                    <input type="radio" id="option-${index}" name="question-option" 
                           ${respuestas[preguntaActual] === opcion ? 'checked' : ''}>
                    <label for="option-${index}">${opcion}</label>
                `;
                
                optionDiv.addEventListener('click', () => seleccionarOpcion(opcion));
                optionsContainer.appendChild(optionDiv);
            });
            
            // Actualizar estado de los botones
            prevBtn.disabled = preguntaActual === 0;
            nextBtn.disabled = !respuestas[preguntaActual];
            
            if (preguntaActual === preguntas.length - 1) {
                nextBtn.textContent = 'Finalizar';
            } else {
                nextBtn.textContent = 'Siguiente';
            }
        }

        // Seleccionar una opción
        function seleccionarOpcion(opcion) {
            respuestas[preguntaActual] = opcion;
            
            // Actualizar UI
            document.querySelectorAll('.option').forEach(el => {
                el.classList.remove('selected');
                if (el.dataset.value === opcion) {
                    el.classList.add('selected');
                    el.querySelector('input').checked = true;
                }
            });
            
            nextBtn.disabled = false;
        }

        // Ir a la pregunta anterior
        function irPreguntaAnterior() {
            if (preguntaActual > 0) {
                preguntaActual--;
                mostrarPregunta();
            }
        }

        // Ir a la siguiente pregunta
        function irPreguntaSiguiente() {
            if (preguntaActual < preguntas.length - 1) {
                preguntaActual++;
                mostrarPregunta();
            } else {
                mostrarResultados();
            }
        }

        // Mostrar resultados
        function mostrarResultados() {
            examCard.style.display = 'none';
            resultsCard.style.display = 'block';
            
            // Calcular puntuación
            let puntos = 0;
            respuestas.forEach((respuesta, index) => {
                if (respuesta === preguntas[index][1]) {
                    puntos++;
                }
            });
            
            const porcentaje = (puntos / preguntas.length) * 100;
            
            // Actualizar UI
            scoreElement.textContent = `${puntos} / ${preguntas.length}`;
            percentageElement.textContent = `${Math.round(porcentaje)}% de respuestas correctas`;
            resultsProgressBar.style.width = `${porcentaje}%`;
            
            // Generar revisión de respuestas
            reviewContainer.innerHTML = '';
            preguntas.forEach((pregunta, index) => {
                const esCorrecta = respuestas[index] === pregunta[1];
                
                const reviewItem = document.createElement('div');
                reviewItem.className = 'review-item';
                
                reviewItem.innerHTML = `
                    <div class="review-question">
                        <span class="icon ${esCorrecta ? 'icon-check' : 'icon-x'}">
                            ${esCorrecta ? '✓' : '✗'}
                        </span>
                        <span>${pregunta[0]}</span>
                    </div>
                    <div class="review-answer">
                        Tu respuesta: <span class="${esCorrecta ? 'correct' : 'incorrect'}">
                            ${respuestas[index] || 'Sin respuesta'}
                        </span>
                    </div>
                    ${!esCorrecta ? `
                        <div class="review-answer">
                            Respuesta correcta: <span class="correct">${pregunta[1]}</span>
                        </div>
                    ` : ''}
                `;
                
                reviewContainer.appendChild(reviewItem);
            });
        }

        // Reiniciar examen
        function reiniciarExamen() {
            preguntaActual = 0;
            respuestas = Array(preguntas.length).fill("");
            
            // Mezclar opciones nuevamente
            opcionesMezcladas = preguntas.map(pregunta => {
                const opciones = pregunta.slice(1);
                return [...opciones].sort(() => Math.random() - 0.5);
            });
            
            // Mostrar tarjeta de examen
            examCard.style.display = 'block';
            resultsCard.style.display = 'none';
            
            mostrarPregunta();
        }

       
        
        // Iniciar el examen cuando cargue la página
        document.addEventListener('DOMContentLoaded', inicializarExamen);
    </script>
</body>
</html>

